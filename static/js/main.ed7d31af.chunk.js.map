{"version":3,"sources":["hooks/useLocalStorage.js","styledComponents/Containers.styled-components.js","styledComponents/List.styled-components.js","handlers/generateKey.js","components/LinksList/LinksList.component.js","styledComponents/Inputs.styled-components.js","components/FilterBar/FilterBar.component.js","components/SearchForm/SearchForm.component.js","handlers/filterData.js","components/Modal/Modal.component.js","App.js","reportWebVitals.js","index.js"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","Container","styled","div","HeaderContainer","header","Content","section","Sidebar","aside","Modal","props","showModal","css","ModalContent","Form","form","FormField","List","ul","ListItem","li","generateKey","prefix","max","min","Math","random","LinksList","data","map","link","title","href","url","Button","button","Input","input","LinkButton","SearchInput","FormInput","OpenModalButton","AddButton","CloseModalButton","span","InputLabel","label","FilterBar","onFilter","filtered","setFiltered","onFilterClick","e","currentTarget","dataset","filter","className","categories","category","unique","Set","uniqueCategory","onClick","data-filter","SearchForm","onSearch","placeholder","onChange","filterData","array","base","str","toLowerCase","indexOf","initialState","reducer","state","action","type","payload","field","ModalPage","setShowModal","addLink","useReducer","dispatch","onFieldChange","id","onSubmit","preventDefault","htmlFor","required","mock","App","links","setLinks","filteredLinks","setFilteredLinks","setFilter","search","setSearch","useEffect","useLayoutEffect","onModalToggle","useCallback","addEventListener","closeModalByWindow","removeEventListener","modal","document","getElementById","target","formData","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ed7d31af.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\n// Hook\r\nconst useLocalStorage = (key, initialValue) => {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    try {\r\n      // Get from local storage by key\r\n      const item = window.localStorage.getItem(key);\r\n      // Parse stored json or if none return initialValue\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      // If error also return initialValue\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue = value => {\r\n    try {\r\n      // Allow value to be a function so we have same API as useState\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      // Save state\r\n      setStoredValue(valueToStore);\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      // A more advanced implementation would handle the error case\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  min-height: 100vh;\r\n  flex-direction: column;\r\n  margin: 0;\r\n  @media(min-width: 768px) {\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nexport const HeaderContainer = styled.header`\r\n  display: flex;\r\n  align-items: stretch;\r\n  flex-wrap: wrap;\r\n  padding: 1rem;\r\n  @media(min-width: 768px) {\r\n    flex-wrap: nowrap;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nexport const Content = styled.section`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex: 1;\r\n  position: relative;\r\n`\r\n\r\nexport const Sidebar = styled.aside`\r\n  @media(min-width: 768px) {\r\n    flex: 0 1 300px;\r\n    border-right: 1px solid #cacaca;\r\n  }\r\n`\r\n\r\nexport const Modal = styled.div`\r\n  display: none; \r\n  position: fixed; \r\n  z-index: 1; \r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; \r\n  height: 100%; \r\n  overflow: auto;\r\n  background-color: rgb(0,0,0);\r\n  background-color: rgba(0,0,0,0.4);\r\n  ${props => props.showModal && css`\r\n    display: block;\r\n  `}\r\n`\r\n\r\nexport const ModalContent = styled.div`\r\n  background-color: #fefefe;\r\n  margin: 15% auto; \r\n  padding: 20px;\r\n  border: 1px solid #888;\r\n  width: 80%; \r\n  @media(min-width: 768px) {\r\n    width: 50%;\r\n  }\r\n`\r\n\r\nexport const Form = styled.form`\r\n`\r\n\r\nexport const FormField = styled.div`\r\n`\r\n","import styled from \"styled-components\";\r\n\r\nexport const List = styled.ul`\r\n  margin-top: 0;\r\n  list-style: none;\r\n  padding: 0px 20px;\r\n  background-color: #fff;\r\n`\r\n\r\nexport const ListItem = styled.li`\r\n  \r\n`\r\n","export const generateKey = (prefix, max = 100, min = 0) => {\r\n  return `${prefix}_${Math.random() * (max - min) + min}`;\r\n}\r\n","import React from 'react';\r\nimport { List, ListItem } from \"../../styledComponents/List.styled-components\";\r\nimport {generateKey} from \"../../handlers/generateKey\";\r\n\r\nconst LinksList = ({data = []}) => {\r\n  return (\r\n    <List>\r\n      {\r\n        data.map(\r\n          link =>\r\n            <ListItem key={generateKey('link')}>\r\n              <h2>{link.title}</h2>\r\n              <a href={link.url}>{link.url}</a>\r\n            </ListItem>\r\n        )\r\n      }\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default LinksList;\r\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 1rem;\r\n  font-weight: 200;\r\n  letter-spacing: 1px;\r\n  padding: 13px 50px 13px;\r\n  outline: 0;\r\n  border: 1px solid #cacaca;\r\n  cursor: pointer;\r\n  position: relative;\r\n  background-color: rgba(0, 0, 0, 0);\r\n  width: 100%;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  font-size: 20px;\r\n  font-weight: 200;\r\n  letter-spacing: 1px;\r\n  padding: 13px;\r\n  outline: 0;\r\n  border: 1px solid #cacaca;\r\n  cursor: text;\r\n  position: relative;\r\n  background-color: rgba(0, 0, 0, 0);\r\n`\r\n\r\nexport const LinkButton = styled.button`\r\n  background: none!important;\r\n  border: none;\r\n  padding: 0!important;\r\n  font-family: arial, sans-serif;\r\n  color: #069;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`\r\n\r\nexport const SearchInput = styled(Input)`\r\n  flex-grow: 1;\r\n  font-size: 1rem;\r\n  font-weight: 200;\r\n  margin-bottom: 1rem;\r\n  @media(min-width: 768px) {\r\n    margin-bottom: 0;\r\n    margin-right: 1rem;\r\n  }\r\n`\r\n\r\nexport const FormInput = styled(Input)`\r\n  flex: 1 1 100%;\r\n  width: 100%;\r\n  padding: 12px 20px;\r\n  margin: 0.5rem 0 1rem 0;\r\n  box-sizing: border-box;\r\n`\r\n\r\nexport const OpenModalButton = styled(Button)`\r\n  background-color:#17a2b8;\r\n  color: #fff;\r\n  @media(min-width: 768px) {\r\n    width: auto;\r\n  }\r\n`\r\n\r\nexport const AddButton = styled(Button)`\r\n  background-color: #28a745;\r\n  color: #fff;\r\n`\r\n\r\nexport const CloseModalButton = styled.span`\r\n  color: #aaa;\r\n  float: right;\r\n  font-size: 1rem;\r\n  line-height: 1rem;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  &:hover: {\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const InputLabel = styled.label`\r\n`\r\n","import React, {useState} from 'react';\r\nimport {List, ListItem} from \"../../styledComponents/List.styled-components\";\r\nimport {generateKey} from \"../../handlers/generateKey\";\r\nimport {LinkButton} from \"../../styledComponents/Inputs.styled-components\";\r\n\r\nconst FilterBar = ({data = [], onFilter}) => {\r\n  const [filtered, setFiltered] = useState(false);\r\n\r\n  function onFilterClick(e) {\r\n    setFiltered(true);\r\n    onFilter(e.currentTarget.dataset.filter);\r\n  }\r\n\r\n  function onFilterClear() {\r\n    setFiltered(false);\r\n    onFilter('')\r\n  }\r\n\r\n  function uniqueCategory(data) {\r\n    const categories = data.map(({category}) => category);\r\n    const unique = new Set(categories);\r\n    return [...unique];\r\n  }\r\n\r\n  return (\r\n    <List className={'filter-bar'}>\r\n      {\r\n        uniqueCategory(data).map(\r\n          (category) =>\r\n            (category && <ListItem\r\n              key={generateKey('filter-bar')}\r\n            >\r\n              <LinkButton onClick={onFilterClick} data-filter={category}>\r\n                <h2>{category}</h2>\r\n              </LinkButton>\r\n            </ListItem>)\r\n        )\r\n      }\r\n      {filtered && <ListItem>\r\n        <LinkButton onClick={onFilterClear}>\r\n          <h3>Сбросить фильтр</h3>\r\n        </LinkButton>\r\n      </ListItem>}\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default FilterBar;\r\n","import React from 'react';\r\nimport {SearchInput} from \"../../styledComponents/Inputs.styled-components\";\r\n\r\nconst SearchForm = ({onSearch}) => {\r\n  return (\r\n    <SearchInput placeholder={'Поиск'} onChange={onSearch}/>\r\n  )\r\n}\r\n\r\nexport default SearchForm;\r\n","/**\r\n * Универсальная фильтрация\r\n * @param array\r\n * @param base\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport default function filterData(array, base, str) {\r\n  return array.filter((item) => item[base].toLowerCase().indexOf(str.toLowerCase()) > -1);\r\n}\r\n","import React, {useReducer} from \"react\";\r\nimport {Form, FormField, Modal, ModalContent} from \"../../styledComponents/Containers.styled-components\";\r\nimport {\r\n  AddButton,\r\n  CloseModalButton,\r\n  FormInput,\r\n  InputLabel\r\n} from \"../../styledComponents/Inputs.styled-components\";\r\n\r\nconst initialState = {\r\n  title: '',\r\n  url: '',\r\n  category: ''\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FIELD_CHANGE': {\r\n      return {\r\n        ...state,\r\n        [action.payload.field]: action.payload.value\r\n      }\r\n    }\r\n    case 'CLEAR': {\r\n      return {\r\n        title: '',\r\n        url: '',\r\n        category: ''\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst ModalPage = ({showModal, setShowModal, addLink}) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  function onFieldChange(e) {\r\n    dispatch({type: 'FIELD_CHANGE', payload: {field: e.currentTarget.id, value: e.currentTarget.value}});\r\n  }\r\n\r\n  function clearForm() {\r\n    dispatch({type: 'CLEAR'});\r\n  }\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n    addLink(state);\r\n    clearForm();\r\n    setShowModal(false);\r\n  }\r\n\r\n  return (\r\n    <Modal showModal={showModal} id={'add-modal'}>\r\n      <ModalContent className={'add-modal-content'}>\r\n        <CloseModalButton onClick={() => setShowModal(false)}>X</CloseModalButton>\r\n        <Form onSubmit={onSubmit}>\r\n          <FormField>\r\n            <InputLabel htmlFor={'title'}>Название</InputLabel>\r\n            <FormInput id={'title'} placeholder={'Название'} value={state.title} onChange={onFieldChange} required/>\r\n          </FormField>\r\n          <FormField>\r\n            <InputLabel htmlFor={'url'}>Адрес</InputLabel>\r\n            <FormInput id={'url'} placeholder={'Адрес'} value={state.url} onChange={onFieldChange} required/>\r\n          </FormField>\r\n          <AddButton>Добавить ссылку</AddButton>\r\n        </Form>\r\n\r\n      </ModalContent>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ModalPage;\r\n","import React, {useEffect, useState, useLayoutEffect, useCallback} from 'react';\nimport useLocalStorage from \"./hooks/useLocalStorage\";\nimport {Container, Content, HeaderContainer, Sidebar} from \"./styledComponents/Containers.styled-components\";\nimport LinksList from \"./components/LinksList/LinksList.component\";\nimport FilterBar from \"./components/FilterBar/FilterBar.component\";\nimport SearchForm from \"./components/SearchForm/SearchForm.component\";\nimport filterData from \"./handlers/filterData\";\nimport {OpenModalButton} from \"./styledComponents/Inputs.styled-components\";\nimport ModalPage from \"./components/Modal/Modal.component\";\n\nconst mock = [{\n  title: 'styled-component',\n  url: 'https://styled-components.com/',\n  category: 'css'\n}, {\n  title: 'ReactJS',\n  url: 'https://ru.reactjs.org/',\n  category: 'js framework'\n}, {\n  title: 'Artemiy Zebzeev',\n  url: 'https://github.com/a1phaZ',\n  category: 'developer'\n}, {\n  title: 'Vue.js',\n  url: 'https://vuejs.org/',\n  category: 'js framework'\n}, {\n  title: 'Google',\n  url: 'https://www.google.com/',\n  category: 'search'\n},];\n\nfunction App() {\n  const [links, setLinks] = useLocalStorage('links');\n  const [filteredLinks, setFilteredLinks] = useState(() => links);\n  const [filter, setFilter] = useState('');\n  const [search, setSearch] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (links) return;\n    setLinks(mock);\n  }, [links, setLinks]);\n\n  useLayoutEffect(() => {\n    if (!filter && !search) return setFilteredLinks(links);\n    if (filter) setFilteredLinks(filterData(links, 'category', filter));\n    if (search) setFilteredLinks(filterData(filterData(links, 'category', filter), 'title', search));\n  }, [links, filter, search]);\n\n  function onFilterClick(str) {\n    setFilter(str);\n  }\n\n  function onSearch(e) {\n    setSearch(e.currentTarget.value);\n  }\n\n  const onModalToggle = useCallback(() => {\n    return () => {\n      if (!showModal) window.addEventListener('click', closeModalByWindow());\n      if (showModal) window.removeEventListener('click', closeModalByWindow());\n      setShowModal(!showModal);\n    }\n  }, [showModal]);\n\n  function closeModalByWindow() {\n    return (e) => {\n      const modal = document.getElementById('add-modal');\n      if (e.target === modal) setShowModal(false);\n    }\n  }\n\n  function addLink(formData) {\n    setLinks([...links, formData]);\n  }\n\n  return (\n    <Container className=\"App\">\n      <ModalPage showModal={showModal} setShowModal={setShowModal} addLink={addLink}/>\n      <HeaderContainer className={'header'}>\n        <SearchForm onSearch={onSearch}/>\n        <OpenModalButton onClick={onModalToggle()}>Добавить ссылку</OpenModalButton>\n      </HeaderContainer>\n      <Sidebar className={'filter-bar'}>\n        <FilterBar data={links} onFilter={onFilterClick}/>\n      </Sidebar>\n      <Content className={'content'}>\n        <Container>\n          <LinksList data={filteredLinks}/>\n        </Container>\n      </Content>\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}